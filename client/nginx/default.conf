# This is the configuration for our Nginx web server.

server {
    # Listen on port 80, which is the standard web port inside the container.
    listen 80;
    
    # The root directory where our website files are located.
    # This matches the location we copy our 'dist' folder to in the Dockerfile.
    root /usr/share/nginx/html;
    
    # This ensures that all JavaScript, CSS, and other files are served with the correct MIME type.
    include /etc/nginx/mime.types;

    # This is the MOST IMPORTANT PART for a React application.
    # It tells Nginx to try and find the requested file. If it can't find it
    # (e.g., when you go to '/dashboard' or '/create-goal'), it should not give a 404 error.
    # Instead, it should fall back and serve the main 'index.html' file.
    # This allows React Router to take over and handle the routing on the client-side.
    location / {
        try_files $uri /index.html;
    }
}